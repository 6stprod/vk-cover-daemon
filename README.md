# vk-cover-daemon
Демон для динамичного изменения обложки в сообществе VK с добавлением текста (На примере паблика jokenews.ru)

Изображение, с которым работает скрипт:

![Изображение, с которым будем работать](https://github.com/6stprod/vk-cover-daemon/blob/main/image.jpg?raw=true)

То, что получается на выходе

![То, что получается в итоге](https://sun9-79.userapi.com/impf/CDVRvTOk61Z1_7QOth5k8SPkde91yaMo2Feq2A/ZR-AVFMFduE.jpg?size=795x265&quality=95&crop=0,0,795,265&sign=490b7f5c5f04dbe767c144a8f858f0ed&c_uniq_tag=Y_CX5HK5_csALkKvHg2y3d0DzpCtSnHK-aWF1zz2Qmc&type=cover_group)


# Как это работает

Скрипт получает данные о количестве участников в сообществе и генерирует текст поверх изображения и загружает его, как обложку, в вашем сообществе

В файле index.php основной код. 
1) Для начала необходимо создать (или указать существующий) токен для работы с API (в настройке группы) с правами на изменение фотографии, а так же ID вашего сообщества
2) Заполнить получеными данными переменные на строках 5 - 6
3) Поместить скрипт на хост (для работы с API необходим https)
4) Готово!

# А что с демоном?

Код демона находится в файле daemon.php.
Запуск демона `php -f daemon.php`
В коде демона укажите URL адрес скрипта, который вы поместили на хост

Запущенный демон будет раз в минуту выполнять скрипт.

Написано на скорую руку. 
При наличии на хосте https, можно поместить весь код в демона и выполнять только его
